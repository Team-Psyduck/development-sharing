# 컴퓨터 네트워크 기본 (1)

## 네트워크 엣지

`클라이언트` : 자기가 원할때 웹서버로부터 데이터를 가져오는 것 

`서버` : 항시 24시 연결되어 있어서 클라이언트로부터 요청을 기다리는 것 

## 데이터 통신 방식

1. 커넥션 오리엔티드 서비스 
    1. tcp가 대표적인 예 중 하나 
2. 커넥션 리스 서비스 
    1. udp가 대표적인 예 중 하나 

### TCP 특징

1. 클라이언트 사용자에게 신뢰성 있는 순서있는 데이터 전송을 보장한다.
2. tcp 데이터 전송 속도를 데이터를 받는 컴퓨터가 `안정적`으로 받을 수 있도록 조절해준다. 

### udp 특징

1. 비연결성 이며 속도가 빠르다.
2. `데이터가 유실`될 수 있다.

## 프로토콜이 무엇인가

둘 사이에 암묵적인 대화하는 방식이다.  정말 중요한 데이터를 받기위한 준비 동작이다. 

## 네트워크 코어

`라우터` : 네트워크 중심에는 **라우터들이 연결되어 목적지까지 연결해준다.** 

## 라우터

**설킷 스위칭** : 출발지부터 목적지까지 길을 준비해두고 특정 사용자만이 사용할 수 있게 해둔것이다. (예전 유선전화망이 대표적인 예이다)

**패킷 스위칭** : 패킷단위로 받아서 올바른 방향으로 전달해주는것이다. (현재 사용하는 스위칭 방식이다)

### **설킷 스위칭과 패킷 스위칭의 장단점**

전송 속도1mb/s이고  유저의 전송속도는 100kb/s 일때  35명의 유저가 인터넷을 사용할때 서킷 스위칭은 35명중 10명만이 사용가능 하다. 그말은 즉 나머지는 이용을 못한다는 것이다. 하지만, 패킷 스위칭은 특정 인원수를 연결해 두는것이 아니라 패킷이 들어오는대로 처리를 하는 방식이다. 패킷이 들어오면 처리해주는데 문제는 만약 10명 이상의 인원이 동시에 요청을 하게 된다면, 문제가 발생하게 된다. 

## **패킷 스위칭을 사용하면서 생기는 문제들**

**프로세싱 딜레이** 

라우터로 전달된 패킷을 검사하는 시간이 바로 프로세싱 딜레이 이다. 

라우터에서 패킷을 받아서 다음 라우터까지 갈때 나가는 속도보다 들어오는 속도가 더 빠르다면, 라우터 안에 버퍼에 패킷을 들어온 순서대로 저장하여 패킷의 유실을 막는다. 순서는 패킷을 검사하고 패킷을 다음 라우터로 전송하기전에 라우터 안 대기하는 큐에 패킷이 존재한다면, 큐에 보관해두고 하나씩 처리를 해가는것이 **큐잉 딜레이** 이다. 

**트랜스미션 딜레이** 패킷크기를 링크밴드위드로 나눈것 packet length / link bandwidth 

순서를 기다리다가 이제 나의 순서가 왔을때 다음 라우터로 전송을 할텐데 이때 라우터의 링크 밴드위드의 크기에 따라서 딜래이가 발생된다. 전송하는 곳의 크기가 좁다면 그만큼 패킷이 다음 라우터로 가기에는 좁아서 시간이 오래 걸릴것이고, 크기가 넓다면, 훨씬 빠를것이다. 즉 트랜스미션 딜레이는 다음 라우터로 전송할때 전송될 패킷의 마지막 비트까지 빠져나가는 시간을 칭한다. 

**프로파게이션 딜레이** 

트랜스미션 딜레이가 종료되고 패킷의 마지막 비트까지 전송이 되었다면, 다음 라우터로 패킷이 이동 중 일것이다. 

이때 전송중인 이시간이 **프로파게이션 딜레이** 이다. 빛의 속도로 전송이 되지만, 거리가 멀면 멀수록 시간이 더 오래 걸리게 될것이다. 

## 정리

`프로세싱 딜레이` : 라우터로 전달된 패킷을 검사하는 시간 

`큐잉 딜레이` : 라우터 안 대기하는 큐에 저장되어 자신의 차례가 올 때까지 기다리는 시간 

`트랜스미션 딜레이` : 전송 순서가 왔을때 나의 패킷 마지막 비트까지 라우터에서 빠져나가는 시간 

`프로파게이션 딜레이` : 마지막 비트까지 빠져나온 후 다음 라우터로 전송될때 까지의 시간

### 딜레이를 줄이는법

프로세싱 딜레이 줄이는 법 → 라우터 좋은것을 사면 된다. 

트래스미션 딜레이 줄이는 법 → 케이블을 교체하여 밴드수를 확 늘려버리면 된다. 

큐잉 딜레이 줄이는 법 → 큐잉 딜레이는 인터넷을 사용하는 사람이 많으면 많을수록 딜레이 시간이 늘어나게 된다. 딜레이 시간을 줄이려면 사람들이 각자 시간을 정해두고 컴퓨터를 해야할 것이다. 현실적으로 딜레이를 조절하기 어렵다. 

프로파게이션 딜레이 줄이는 법 → 프로파게이션은 빛의 속도로 전송되지만, 거리가 멀수록 시간이 절대적으로 더 오래걸린다. 

### 큐의 크기는 얼마나 될까?

큐의 저장된것보다 더 많은 패킷이 들어오게 된다면? 패킷유실이 일어나게 된다. 큐에 들어가기만 하면 기다리기만 한다면 데이터가 전송될테지만, 큐가 꽉차서 큐에 들어가지 못한다면 라우터는 해당 패킷들은 받지 않고 버리게 된다.
