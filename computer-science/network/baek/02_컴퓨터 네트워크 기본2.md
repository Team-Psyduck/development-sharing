# 2. 컴퓨터 네트워크 기본2.md

## 복습

- 현재 인터넷은 `패킷 기반`의 전송 방식을 사용함
- `패킷 기반`이란 사용자가 보내는 데이터가 패킷이라는 한묶음 단위로 이동한다.
- `패킷` : 패킷은 비트들의 집합인데 출발지에서 도착지까지 라우터를 거치면서 항상 한묶음으로 같이 다닌다.
- 패킷 기반의 `문제점` : 한번의 많은 사용자의 요청을 받으면 큐라는 공간에 요청이 쌓이게 되는데 큐의 크기보다 더 많은 사용자의 요청을 받으면 패킷을 유실한다. (패킷을 큐에 넣는것을 거부함)
- 패킷 스윗칭 : 패킷이 현재 라우터에서 다음 라우터로 빛의 속도로 이동할때 먼저 도착한 패킷의 일부분이 바로 진행되는것이 아니라 뒤에 나머지 패킷의 일부분들이 다 도착했을때 라우터에서 작업이 진행되는것

인터넷 상에 존재하는 각 컴퓨터들은 IP주소를 가지고 있어야한다. 

서버는 고정된 IP주소를 가지고 있어야 하지만, 클라이언트는 IP주소가 고정되지 않아도 된다. 

http 통신은 소켓을 이용하여 통신하게 된다. 

컴퓨터 안에 특정 프로세스를 칭하는 것이 포트이다. 

소켓을 인덱싱 하는게 ip 주소와 port의 조합이다. 

다른 컴퓨터에 위치한 다른 프로세스를 ip주소와 port의 조합이다.

현재 TCP에서는 데이터를 유실하지 않게 해주는 data integrity만 지원해준다. 

## HTTP(hypertext transfer protocol web’s application layer)

단순히 텍스트를 전송하는 프로토콜이다.

HTTP는 stateless이다. 요청이 들어오면 응답을 하고 연결을 끊는다. 

### Non-persistence HTTP

웹 요청이 왔을때 TCP 커넥션을 연결하고 HTTP 요청을 한다. 

서버는 요청에 대한 응답값을 전달하고 TCP 커넥션을 끊는다. 

그리고 추가적인 요청을 할때 다시 위의 방식처럼 TCP 커넥션을 새로 연결하고 서버는 요청에 대한 응답값을 전달하고 TCP 커넥션을 끊는다.

### persistence HTTP

웹 요청이 왔을때 TCP 커넥션을 연결하고 HTTP 요청을 한다. 

서버는 요청에 대한 응답값을 전달하고 TCP 커넥션을 끊지 않는다.. 

그리고 추가적인 요청을 할때 새로운 TCP 커넥션을 연결하는 것이 아니라 끊어지지 않은 TCP를 통해서 통신을 진행한다. 서버는 요청에 대한 응답값을 전달하고 더이상의 요청이 없다면 TCP 커넥션을 끊는다.

### 추가적인 말

위에서 단순히 TCP 커넥션을 끊는다고 말을 했지만, TCP 연결은 일방적으로 한쪽이 끊을 수 없다. 그래서 서버는 응답값을 전달하고 클라이언트에게 TCP를 끊겠다는 신호를 준다. 그리고 클라이언트가 최종적으로 TCP를 끊어도 된다고 판단되면 TCP 연결을 끊는다.
